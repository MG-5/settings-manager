variables:
  GIT_SUBMODULE_STRATEGY: recursive

stages:
  - test

image: "hardwario/gcc-arm-embedded:9-2019-q4-major"
before_script: 
  - ln -s /usr/bin/python3 /usr/bin/python
    
test:
  stage: test
  script:
    - cmake -S tests/ -B tests/build/
    - make -C tests/build -j 8
    - tests/build/testapp

